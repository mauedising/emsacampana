 
      <!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Juego educativo - Ordenamos la basura, mejoramos la vida</title>

  <!-- Fuente amigable para ni√±os -->
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
   :root{
      --bg:#A9D9F0;
    /* =========================
       RESET Y ESTILO BASE
       ========================= */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family: 'Quicksand', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background: linear-gradient(180deg,#F5FCFF 10%,var(--bg) 40%);
      color:#46277E;display:flex;flex-direction:column;min-height:100vh;-webkit-font-smoothing:antialiased
    }

    /* Contenedor principal centrado y con ancho m√°ximo para desktop */
    .container{max-width:581px;margin:0 auto;padding:18px;flex:1;display:flex;flex-direction:column;gap:12px}

    /* =========================
       HEADER (Logo + Slogan + EMSA)
       - Todo centrado para que sea amigable a la vista de los ni√±os.
       ========================= */
    header{display:flex;flex-direction:column;align-items:center;gap:6px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:72px;height:72px;border-radius:12px;object-fit:cover}
    header h1{margin:0;font-size:20px;text-align:center}
    .slogan{font-weight:700;font-size:18px;color:#F3A31A;text-align:center}
    .emsa{font-size:14px;color:#2f6b9a}

    /* =========================
       NAVEGACI√ìN: Botones principales
       - En pantallas amplias (desktop) los botones aparecen en fila y centrados horizontalmente.
       - En pantallas peque√±as (celular) los botones se apilan verticalmente y ocupan el ancho.
       - Botones grandes, colores contrastados y esquinas redondeadas: interfaz amigable para ni√±os.
       ========================= */
    .nav{display:flex;justify-content:center;align-items:center;margin:6px 0;gap:12px}
    .nav .btn{background:#F3A31A;color:white;padding:14px 20px;border-radius:14px;border:none;cursor:pointer;font-weight:800;font-size:16px;box-shadow:0 6px 14px rgba(11,107,74,0.18);min-width:170px}
    .nav .btn.secondary{background:#25A8E1}
    .nav .btn.ghost{background:#F3A31A;color:white}

    /* Mobile: apilado vertical */
    @media (max-width:760px){
      .nav{flex-direction:column;align-items:stretch}
      .nav .btn{width:100%;min-width:unset}
    }

    /* =========================
       SLIDESHOW (cuadro con esquinas redondeadas bajo los botones)
       - Contenedor con imagenes que desvanecen (crossfade) cada 7 segundos por defecto.
       - Las im√°genes se colocan en capas y solo la activa tiene opacidad 1.
       ========================= */
    .slideshow{border-radius:14px;background:linear-gradient(180deg,#ffffffcc,#f7fff9);padding:3px;box-shadow:0 6px 18px rgba(0,0,0,0.06);overflow:hidden;justify-content:center}
    .slides{position:relative;width:540px;height:540px;border-radius:10px;overflow:hidden}
    .slide{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;transition:opacity 900ms ease;opacity:0}
    .slide img{width:540px;height:100%;object-fit:cover;}
    .slide.active{opacity:1}

    /* Texto superpuesto peque√±o para a√±adir leyenda si se desea */
    .slide-caption{position:absolute;left:12px;bottom:12px;background:rgba(70, 39, 126, 0.6);color:white;padding:6px 10px;border-radius:8px;font-weight:700}

    /* =========================
       √ÅREA PRINCIPAL (secciones: info, juego, mapa)
       - Por defecto, mostramos la slideshow; las secciones aparecen en el main cuando se presionan los botones.
       ========================= */
    .main-area{display:flex;flex-direction:column;gap:12px}

    /* =========================
       JUEGO: dise√±o amigable para ni√±os
       - Basureros arriba en fila
       - Basura central abajo con texto fijo debajo
       - Colores y tama√±os adecuados para interfaces t√°ctiles
       ========================= */
    .game-area{display:none;flex-direction:column;gap:12px;padding:10px;border-radius:14px;background-image: url("fondojuego.jpg");background-position: center; background-position: center;background-repeat: no-repeat;box-shadow:0 8px 18px rgba(0,0,0,0.06);position: relative;overflow: hidden}
    .bins{display:flex;justify-content:center;gap:35px;padding:14px}
    .bin{width:240px;height:240px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;position:relative;border-radius: 14px;overflow:hidden}
    .bin img{width:100%;height:100%;object-fit:contain;pointer-events:none;border-radius: 20px}
     

    .trash-area{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:12px 6px}
    .trash-holder{width:240px;height:240px;border-radius:14px;border:3px dashed rgba(0,0,0,0.06);display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#fff,#f9fff7);position:relative}
    .trash{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);touch-action:none;cursor:grab;display:flex;flex-direction:column;align-items:center;gap:6px}
    .trash img{width:130px;height:130px;object-fit:contain;pointer-events:none}
    .trash .caption{text-align:center;font-weight:700}

    /* Mensaje final (al completar el juego) */
    .completed{font-weight:900;color:#0b7d4f;text-align:center;padding:26px}

    /* RESULTADO (Correcto/Incorrecto) - Caja flotante central */
    
    .resultBox{position:absolute;left:50%;top:40%;transform:translate(-50%,-50%);min-width:300px;padding:18px;border-radius:12px;color:white;font-weight:800;display:none;flex-direction:column;align-items:center;gap:12px;z-index:200}
    .resultBox.show{display:flex}
    .resultBox.correct{background:#2fa84f}
    .resultBox.wrong{background:#e14b4b}
    .resultBox button{background:rgba(255,255,255,0.18);border:none;padding:10px 14px;border-radius:10px;color:white;font-weight:700;cursor:pointer}



    /* Overlay y modal para Informaci√≥n y Mapa */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:150}
    .overlay.show{display:flex}
    .modal{background:white;border-radius:12px;padding:16px;max-width:920px;width:94%;max-height:88vh;overflow:auto}
    .modal-header{display:flex;justify-content:space-between;align-items:center}
    .modal .close{background:transparent;border:none;cursor:pointer;font-size:18px}
    #modalTitle{color: #F3A31A;text-align: center; flex: 1}

    /* FOOTER: logo y personas que trabajaron + redes sociales */
    footer{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-top:1px solid rgba(0,0,0,0.05);margin-top:12px}
    .team{display:flex;align-items:center;gap:12px}
    .team img{width:48px;height:48px;border-radius:10px}
    .socials{display:flex;gap:8px}
    .socials a{width:44px;height:44px;display:inline-flex;align-items:center;justify-content:center;border-radius:8px;background:#fff;border:1px solid rgba(0,0,0,0.06);text-decoration:none;font-weight:800}

    /* Ajustes para pantallas peque√±as */
    @media (max-width:420px){
      .bin{width:86px;height:86px}
      .trash img{width:96px;height:96px}
      .slides{height:180px}
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- ========== HEADER ========== -->
    <header>
      <div class="brand" aria-hidden="false">
        <!-- Reemplaza el src con el logo real de tu empresa -->
        <img src="logo.png" alt="Logo de la empresa" />
        <div>
          <h1>
            Ordenamos la basura, mejoramos la vida</h1>
          <div class="slogan">Somos una ciudad limpia</div>
        </div>
      </div>

      <!-- Texto EMSA debajo del slogan -->
      <div class="emsa"></div>
    </header>

    <!-- =========================
         NAVEGACI√ìN PRINCIPAL
         ========================= -->
    <nav class="nav" role="navigation" aria-label="Men√∫ principal">
      <button class="btn" id="infoBtn">Informaci√≥n</button>
      <button class="btn secondary" id="gameBtn">Juego</button>
      <button class="btn ghost" id="mapBtn">Mapa</button>
    </nav>

    <!-- =========================
         SLIDESHOW bajo los botones (im√°genes que cambian cada 7 segundos)
         - Cambia las rutas images/slide1.jpg etc por tus im√°genes.
         ========================= -->
    <div class="slideshow" aria-hidden="false">
      <div class="slides" id="slidesContainer">
        <!-- Slides generados por JS -->
      </div>
    </div>

    <!-- =========================
         √ÅREA PRINCIPAL: Info / Juego / Mapa (el contenido aparece en overlay o en el main)
         ========================= -->
    <main class="main-area">

      <!-- JUEGO: inicialmente oculto, se muestra con el bot√≥n Juego -->
      <section class="game-area" id="gameArea" aria-hidden="true">
        <!-- Contenedor de basureros (arriba) -->
        <div class="bins" id="binsContainer" aria-label="Basureros"></div>

        <!-- √Årea de la basura actual (imagen + texto est√°tico debajo) -->
        <div class="trash-area">
          <div class="trash-holder" id="trashHolder" aria-hidden="false"></div>
          <div style="margin-top:10px;text-align:center;font-size:18px;font-weight:800;color:#333"> <span id="trashLabel">(presiona Juego)</span></div>
        </div>

        <!-- RESULTADO (Correcto/Incorrecto) -->
    <div id="resultBox" class="resultBox" role="status" aria-live="polite">
      <div id="resultText">Correcto</div>
      <button id="resultAction">Siguiente</button>
    </div>
      </section>

    </main>

    <!-- RESULTADO (Correcto/Incorrecto) -->
    <div id="resultBox" class="resultBox" role="status" aria-live="polite">
      <div id="resultText">Correcto</div>
      <button id="resultAction">Siguiente</button>
    </div>

    <!-- MODAL / OVERLAY reutilizable para Informaci√≥n y Mapa -->
    <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal" role="document">
        <div class="modal-header">
          <h3 id="modalTitle">T√≠tulo</h3>
          <button class="close" id="closeModal" aria-label="Cerrar">‚úï</button>
        </div>
        <div id="modalContent"></div>
      </div>
    </div>

    <!-- FOOTER: logo y personas que trabajaron + redes sociales -->
    <footer>
      <div class="team">
        <img src="logo2.png" alt="Logo peque√±o" />
        <div>
          <div style="font-weight:800; color:#F3A31A">Equipo del proyecto</div>
          <div style="font-size:13px;color:#46277E">A√±azgo James Antonio Orlando - Camargo Ramos Cristal - Jauregui Vargas Mauren Nicol - Torrico Hinojosa Angie Nicol - Murillo Arias Mayt√® - Perez Claros Marco Antonio</div>
        </div>
      </div>

      <div class="socials" aria-label="Redes sociales">
        <!-- Reemplaza href por las URLs reales de las redes sociales -->
        <a href="https://www.facebook.com/p/EMSA-Somos-Ciudad-Limpia-100057220279015/?locale=es_LA" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><img src="facebook.png" alt="Facebook" width="32" height="32"></a>
        <a href="https://emsa.gob.bo/" target="_blank" rel="noopener noreferrer" aria-label="Web"><img src="web.png" alt="Facebook" width="32" height="32"></a>
        <a href="https://www.instagram.com/emsa_somos_ciudad_limpia/" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><img src="instagram.png" alt="Facebook" width="32" height="32"></a>
      </div>
    </footer>
  </div>

  <!-- =========================
       SCRIPT: l√≥gica del slideshow, juego, modales y explicaciones
       Cada funci√≥n est√° documentada con mucho detalle para que puedas editar f√°cilmente.
       ========================= -->
  <script>
    
    /*
      -------------------------------------------------
      CONFIGURACI√ìN (edita aqu√≠ para personalizar el juego)
      - Cambia rutas de im√°genes en slides, bins y items.
      - slideIntervalMs controla cada cu√°nto cambia la imagen del slideshow (7000 ms = 7 s)
      - bins: array con 3 objetos => closed/open image y etiqueta.
      - items: array con hasta 10 (o m√°s) objetos; cada objeto tiene: img, label, correctBin (0/1/2)
      -------------------------------------------------
    */
    const config = {
      slideIntervalMs: 7000, // cambiar este valor para aumentar/disminuir tiempo entre slides
      slides: [
        {src: 'fotod1.png', caption: 'Separar para cuidar la ciudad'},
        {src: 'images/slide2.jpg', caption: 'Recicla, recicla, recicla'},
        {src: 'images/slide3.jpg', caption: 'Peque√±as acciones, gran impacto'}
      ],

      bins: [
        { closed: 'basucloor.png', open: 'basuopeor2.png' },
        { closed: 'basuclore.png', open: 'basuopere2.png' },
        { closed: 'basuclono.png', open: 'basuopeno2.png' }
      ],

      // items -> definibles por ti (usa hasta 10)
      items: [
        { img: 'images/trash1.png', label: 'Botella de pl√°stico', correctBin: 1 },
        { img: 'images/trash2.png', label: 'C√°scara de pl√°tano', correctBin: 0 },
        { img: 'images/trash3.png', label: 'Vaso de vidrio', correctBin: 1 },
        { img: 'images/trash4.png', label: 'Papel', correctBin: 1 },
        { img: 'images/trash5.png', label: 'Envoltura de galletas y helado', correctBin: 2 },
        { img: 'images/trash6.png', label: 'Lata', correctBin: 1 },
        { img: 'images/trash7.png', label: 'C√°scara de huevo', correctBin: 0 },
        { img: 'images/trash8.png', label: 'Restos de comida', correctBin: 0 },
        { img: 'images/trash9.png', label: 'Papel contaminado con comida', correctBin: 2 },
        { img: 'images/trash10.png', label: 'Poopo de perro', correctBin: 2 }
      ]
    };

    /* -------------------------------------------------
       VARIABLES de estado
       ------------------------------------------------- */
    let currentIndex = 0; // √≠ndice de la basura actual
    let dragEl = null;    // elemento que se arrastra (DOM)
    let isDragging = false;
    let lastIntersectedBin = null; // √≠ndice del basurero que est√° bajo la basura durante el arrastre

    /* -------------------------------------------------
       REFERENCIAS R√ÅPIDAS al DOM
       ------------------------------------------------- */
    const slidesContainer = document.getElementById('slidesContainer');
    const binsContainer = document.getElementById('binsContainer');
    const trashHolder = document.getElementById('trashHolder');
    const trashLabel = document.getElementById('trashLabel');
    const gameArea = document.getElementById('gameArea');
    const resultBox = document.getElementById('resultBox');
    const resultText = document.getElementById('resultText');
    const resultAction = document.getElementById('resultAction');
    const overlay = document.getElementById('overlay');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalContent');
    const closeModal = document.getElementById('closeModal');
    

    document.getElementById('infoBtn').addEventListener('click', openInfo);
    document.getElementById('gameBtn').addEventListener('click', startGame);
    document.getElementById('mapBtn').addEventListener('click', openMap);
    closeModal.addEventListener('click', closeOverlay);

    /* =================================================
       SLIDESHOW: crea las slides y las cicla cada slideIntervalMs
       - Cada slide tiene una clase .active que controla la opacidad.
       - Explicaci√≥n de edici√≥n: para cambiar im√°genes, sustituye las rutas en config.slides.
       ================================================= */
    function renderSlides(){
      slidesContainer.innerHTML = '';
      config.slides.forEach((s, i)=>{
        const div = document.createElement('div');
        div.className = 'slide';
        if(i===0) div.classList.add('active');
        div.innerHTML = `<img src="${s.src}" alt="Slide ${i+1} - ${s.caption||''}"/>` +
                        (s.caption ? `<div class="slide-caption">${s.caption}</div>` : '');
        slidesContainer.appendChild(div);
      });
    }

    let slideTimer = null;
    function startSlideshow(){
      let idx = 0;
      const slides = Array.from(document.querySelectorAll('.slide'));
      if(slides.length===0) return;
      clearInterval(slideTimer);
      slideTimer = setInterval(()=>{
        slides[idx].classList.remove('active');
        idx = (idx+1) % slides.length;
        slides[idx].classList.add('active');
      }, config.slideIntervalMs);
    }

    /* =================================================
       RENDERIZADO DE BASUREROS
       - Crea 3 basureros en la parte superior a partir de config.bins
       - Cada <img> tiene data-closed y data-open para alternar imagenes cuando se detecta colisi√≥n
       ================================================= */
    function renderBins(){
      binsContainer.innerHTML = '';
      config.bins.forEach((b,i)=>{
        const div = document.createElement('div');
        div.className = 'bin';
        div.setAttribute('data-index', String(i));

        const img = document.createElement('img');
        img.src = b.closed;
        img.alt = `${b.label} (basurero)`;
        img.setAttribute('data-closed', b.closed);
        img.setAttribute('data-open', b.open);
        img.setAttribute('draggable', 'false');

        const label = document.createElement('div');
        label.className = 'label';
        label.textContent = b.label;

        div.appendChild(img);
        div.appendChild(label);
        binsContainer.appendChild(div);
      });
    }

    /* =================================================
       INICIAR JUEGO
       - Reinicia √≠ndices y muestra la primera basura
       - Coloca gameArea visible (aria-hidden actualizado para accesibilidad)
       ================================================= */
    function startGame(){
      currentIndex = 0;
      renderBins(); // asegura que los bins se hayan renderizado correctamente con sus im√°genes
      gameArea.style.display = 'flex';
      gameArea.setAttribute('aria-hidden','false');
      showItem(currentIndex);
      gameArea.scrollIntoView({ behavior: 'smooth' });
    }

    /* =================================================
       MUESTRA UNA BASURA (showItem)
       - Crea el elemento .trash y lo centra dentro del holder
       - A√±ade listener pointerdown para iniciar arrastre
       - Explicaci√≥n: para editar la lista de basuras, modifica config.items
       ================================================= */
    function showItem(i){
      if(i<0 || i>=config.items.length){
        // Juego terminado: mostrar mensaje final
        trashHolder.innerHTML = `<div class="completed">¬°Has completado el juego! üéâ Gracias por aprender a seleccionar tu basura.</div>`;
        trashLabel.textContent = '(completado)';
        return;
      }

      const item = config.items[i];
      trashLabel.textContent = item.label;

      trashHolder.innerHTML = '';
      lastIntersectedBin = null;

      const t = document.createElement('div');
      t.className = 'trash';
      t.setAttribute('data-index', String(i));
      t.innerHTML = `<img src="${item.img}" alt="${item.label}" draggable="false" />` +
                    `<div class="caption">${item.label}</div>`;

      t.style.left = '50%';
      t.style.top = '50%';
      t.style.transform = 'translate(-50%,-50%)';

      trashHolder.appendChild(t);
      dragEl = t;

      // pointer events para soporte t√°ctil y rat√≥n
      t.addEventListener('pointerdown', onPointerDown);
    }

    /* =================================================
       EVENTOS PARA ARRASTRAR (pointer events)
       - onPointerDown: prepara el arrastre
       - moveHandler: mueve el elemento y chequea colisiones con los basureros
       - upHandler: al soltar, eval√∫a drop o retorna al centro
       ================================================= */
    function onPointerDown(e){
      e.preventDefault();
      if(!dragEl) return;
      isDragging = true;

      const rect = dragEl.getBoundingClientRect();
      const startX = e.clientX;
      const startY = e.clientY;
      const offsetX = startX - rect.left;
      const offsetY = startY - rect.top;

      // Convertimos el elemento a posicion fixed para moverlo libremente por la pantalla
      dragEl.style.transition = 'none';
      dragEl.style.position = 'fixed';
      dragEl.style.zIndex = 120;
      dragEl.style.left = (startX - offsetX) + 'px';
      dragEl.style.top = (startY - offsetY) + 'px';
      dragEl.style.transform = 'none';
      dragEl.setPointerCapture(e.pointerId);

      function moveHandler(ev){
        if(!isDragging) return;
        dragEl.style.left = (ev.clientX - offsetX) + 'px';
        dragEl.style.top = (ev.clientY - offsetY) + 'px';

        // chequeo de colisi√≥n: comprobar si el centro del elemento cae dentro del rect de alg√∫n bin
        const bins = Array.from(document.querySelectorAll('.bin'));
        let intersectIndex = null;
        for(let i=0;i<bins.length;i++){
          const binRect = bins[i].getBoundingClientRect();
          const trashRect = dragEl.getBoundingClientRect();
          const cx = trashRect.left + trashRect.width/2;
          const cy = trashRect.top + trashRect.height/2;
          if(cx >= binRect.left && cx <= binRect.right && cy >= binRect.top && cy <= binRect.bottom){
            intersectIndex = i;
            break;
          }
        }

        // Si cambiamos de basurero, actualizamos im√°genes open/closed
        if(intersectIndex !== lastIntersectedBin){
          if(lastIntersectedBin !== null){
            const prevImg = document.querySelector(`.bin[data-index='${lastIntersectedBin}'] img`);
            prevImg.src = prevImg.getAttribute('data-closed');
          }
          if(intersectIndex !== null){
            const img = document.querySelector(`.bin[data-index='${intersectIndex}'] img`);
            img.src = img.getAttribute('data-open');
          }
          lastIntersectedBin = intersectIndex;
        }
      }

      function upHandler(ev){
        isDragging = false;
        dragEl.releasePointerCapture(e.pointerId);
        document.removeEventListener('pointermove', moveHandler);
        document.removeEventListener('pointerup', upHandler);

        if(lastIntersectedBin !== null){
          evaluateDrop(lastIntersectedBin);
        } else {
          // si no cae en ning√∫n basurero -> volver al centro
          resetDraggedToCenter();
        }
      }

      document.addEventListener('pointermove', moveHandler);
      document.addEventListener('pointerup', upHandler);
    }

    /* =================================================
       EVALUAR DROP
       - Compara el √≠ndice del bin donde se solt√≥ con item.correctBin
       - Muestra resultado (verde / rojo) y el bot√≥n correspondiente
       ================================================= */
    function evaluateDrop(binIndex){
      const item = config.items[currentIndex];
      const correct = (binIndex === item.correctBin);
      showResult(correct);
    }

    /* =================================================
       MOSTRAR RESULTADO
       - Si correcto: caja verde, texto '¬°Correcto!', boton 'Siguiente' -> avanza currentIndex
       - Si incorrecto: caja roja, texto 'Incorrecto', boton 'Vuelve a intentarlo' -> recoloca basura en el centro
       - Importante: al avanzar, resetear im√°genes de basureros a closed
       ================================================= */
    function showResult(correct){
      resultBox.classList.remove('correct','wrong');
      if(correct){
        resultBox.classList.add('correct');
        resultText.textContent = '¬°Correcto!';
        resultAction.textContent = 'Siguiente';
        // ocultar basura actual visualmente
        if(dragEl) dragEl.style.display = 'none';
      } else {
        resultBox.classList.add('wrong');
        resultText.textContent = 'Incorrecto';
        resultAction.textContent = 'Vuelve a intentarlo';
      }

      resultBox.classList.add('show');

      function onAction(){
        resultBox.classList.remove('show');
        resultAction.removeEventListener('click', onAction);

        if(correct){
          // avanzar al siguiente item
          currentIndex++;
          // resetear imagenes de basureros a closed
          document.querySelectorAll('.bin img').forEach(img=>img.src = img.getAttribute('data-closed'));
          showItem(currentIndex);
        } else {
          // reintentar: volver al centro y resetear basureros
          resetDraggedToCenter();
          document.querySelectorAll('.bin img').forEach(img=>img.src = img.getAttribute('data-closed'));
        }
      }

      resultAction.addEventListener('click', onAction);
    }

    /* =================================================
       RESET: devolver la basura al centro con animaci√≥n
       - Establece posicion fixed y luego vuelve a posicion relativa dentro del holder
       ================================================= */
    function resetDraggedToCenter(){
      if(!dragEl) return;
      dragEl.style.transition = 'all 300ms ease';
      const holderRect = trashHolder.getBoundingClientRect();
      dragEl.style.left = (holderRect.left + holderRect.width/2 - dragEl.offsetWidth/2) + 'px';
      dragEl.style.top = (holderRect.top + holderRect.height/2 - dragEl.offsetHeight/2) + 'px';

      setTimeout(()=>{
        if(!dragEl) return;
        dragEl.style.position = '';
        dragEl.style.left = '50%';
        dragEl.style.top = '50%';
        dragEl.style.transform = 'translate(-50%,-50%)';
        dragEl.style.zIndex = '';
        dragEl.style.transition = '';
      },320);

      // resetear basureros abiertos
      document.querySelectorAll('.bin img').forEach(img=>img.src = img.getAttribute('data-closed'));
      lastIntersectedBin = null;
    }

    /* =================================================
       MODALES: INFORMACION y MAPA
       - openInfo: abre modal con texto e im√°genes de concientizaci√≥n
       - openMap: abre modal con texto y un iframe embed de Google Maps centrado en Cochabamba
       - closeOverlay: cierra el modal
       ================================================= */
    function openInfo(){
      modalTitle.textContent = '¬øC√≥mo separar nuestros residuos?';
      modalContent.innerHTML = `
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
          <img src="images/info1.png" alt="Ejemplo 1" style="width:140px;height:100px;object-fit:cover;border-radius:8px;"/>
          <img src="images/info2.png" alt="Ejemplo 2" style="width:140px;height:100px;object-fit:cover;border-radius:8px;"/>
        </div>
        <p style="margin-top:12px;font-size:13px;color:#666">Reemplaza estas im√°genes con contenidos locales o m√°s amigables para ni√±os.</p>
      `;
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
    }

    function openMap(){
      modalTitle.textContent = 'Todos los basureros subterr√°neos de Cochabamba';
      modalContent.innerHTML = `
        <p style="font-weight:800">Aprox√≠mate al m√°s cercano para botar la basura en su lugar </p>
        <div style="width:100%;height:420px;margin-top:8px">
          <iframe src="https://www.google.com/maps/d/u/0/embed?mid=1kQrTkgoQ0yi4hJKHgpwjExJJoS8CAts&ehbc=2E312F&noprof=1" width="640" height="480"></iframe>
        </div>
        
      `;
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
    }

    function closeOverlay(){
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
      modalContent.innerHTML = '';
    }

    /* =================================================
       INICIALIZACI√ìN AUTOM√ÅTICA al cargar la p√°gina
       - renderiza slides y bins, inicia slideshow
       - explicacion: si quieres que el slideshow no empiece autom√°ticamente, comenta startSlideshow()
       ================================================= */
    renderSlides();
    renderBins();
    startSlideshow();
    
    

    /* =================================================
       NOTAS FINALES (gu√≠a r√°pida para editar):
       1) Im√°genes: coloca tus im√°genes en la carpeta 'images/' y actualiza las rutas en config (slides, bins, items)
       2) Textos: modifica captions, labels y las leyendas en los modales directamente en el HTML/JS
       3) N√∫meros de items: el juego iterar√° por config.items.length (puedes poner menos o m√°s de 10)
       4) Tiempo slideshow: cambia config.slideIntervalMs (en milisegundos)
       5) Dise√±o: colores y tama√±os est√°n en la secci√≥n <style> al inicio. Cambia variables de color si deseas otro estilo m√°s infantil.
       6) Soporte t√°ctil: usamos Pointer Events (funciona en la mayor√≠a de m√≥viles modernos). Si quieres fallback para navegadores antiguos, d√≠rmelo y adapto.

       Si quieres que te entregue un ZIP con el HTML + una carpeta images con placeholders (basureros, basuras, slides), lo genero a continuaci√≥n.
       -------------------------------------------------
    */
  </script>
</body>
</html>

